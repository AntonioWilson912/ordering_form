{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="auth-container">
        <div class="auth-card">
            <h2>Login</h2>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="id_username">Username:</label>
                    <input type="text"
                           name="username"
                           id="id_username"
                           class="form-control"
                           required
                           autofocus>
                </div>
                <div class="form-group">
                    <label for="id_password">Password:</label>
                    <input type="password"
                           name="password"
                           id="id_password"
                           class="form-control"
                           required>
                </div>
                {% if form.errors %}<div class="form-error">Invalid username or password.</div>{% endif %}
                <div class="form-submit">
                    <button type="submit" class="btn btn-blue">Login</button>
                </div>
            </form>
            {% if show_resend %}
                <div class="activation-notice">
                    <p>Your account is not activated.</p>
                    <form method="post" action="{% url 'users:resend_activation' %}">
                        {% csrf_token %}
                        <input type="hidden" name="email" value="{{ inactive_email }}">
                        <button type="submit" class="btn btn-outline btn-sm">Resend Activation Email</button>
                    </form>
                </div>
            {% endif %}
            <div class="auth-links">
                <p>
                    Don't have an account? <a href="{% url 'users:register' %}">Register</a>
                </p>
                <p>
                    <a href="{% url 'users:reset' %}">Forgot password?</a>
                </p>
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_css %}
    <style>
    .activation-notice {
        background-color: #fff3cd;
        border: 1px solid #ffc107;
        border-radius: 8px;
        padding: 15px;
        margin: 20px 0;
        text-align: center;
    }
    .activation-notice p {
        margin: 0 0 10px 0;
        color: #856404;
    }
    </style>
{% endblock %}
